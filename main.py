from fastapi import FastAPI, Request
from fastapi.staticfiles import StaticFiles
from fastapi.templating import Jinja2Templates
from fastapi.responses import HTMLResponse

app = FastAPI(
    title='üåé YOUR PYTHON DEV',
    description='Elite Python Backend Developer Portfolio',
    version='2.0.0'
)

app.mount('/static', StaticFiles(directory='static'), name='static')
templates = Jinja2Templates(directory='templates')

PROFILE_DATA = {
    'name': '–ò–ù–ù–û–ö–ï–ù–¢–ò–ô –ú–û–¢–†–ò–ô',
    'title': 'üêç PYTHON FULL-STACK DEVELOPER üêç',
    'tagline': 'üí° –ü—Ä–µ–≤—Ä–∞—â–∞—é –∏–¥–µ–∏ –≤ —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Ä–µ—à–µ–Ω–∏—è',
    'about': ('–ó–∞ 2 –≥–æ–¥–∞ –ø–æ–≥—Ä—É–∑–∏–ª—Å—è –≤ Python-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É, –ø—Ä–æ—à–µ–ª –ø—É—Ç—å –æ—Ç '
              '–ø–µ—Ç-–ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–æ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Å—å –Ω–∞ '
              '—Å–æ–∑–¥–∞–Ω–∏–∏ web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (–±—ç–∫–µ–Ω–¥ - FastAPI, Flask, '
              'Django, —Ñ—Ä–æ–Ω—Ç –Ω–∞ —à–∞–±–ª–æ–Ω–∞—Ö), API –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏. '
              '–í–µ—Ä—é –≤ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–¥ –∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ.'),
    'stats': {
        '–æ–ø—ã—Ç –≤ IT': '2 –≥–æ–¥–∞',
        '–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –æ–ø—ã—Ç': '1 –≥–æ–¥', 
        '–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤': '35+',
        'drunk coffee': '‚àû —á–∞—à–µ–∫'
    },
    'contacts': {
        'telegram': {'url': 'https://t.me/kentiy2717', 'text': '@kentiy2717', 'icon': 'fab fa-telegram'},
        'email': {'url': 'mailto:kentiy93@gmail.com', 'text': 'kentiy93@gmail.com', 'icon': 'fas fa-rocket'},
        'github': {'url': 'https://github.com/Kentiy2717', 'text': 'Kentiy2717', 'icon': 'fab fa-github'},
        'hh': {'url': '#', 'text': '–†–ï–ó–Æ–ú–ï', 'icon': 'fas fa-briefcase'}
    }
}

PROJECTS_DATA = {
    'yacut': {
        'id': 'yacut',
        'title': '‚úÇÔ∏è YACUT - –°–ï–†–í–ò–° –°–û–ö–†–ê–©–ï–ù–ò–Ø –°–°–´–õ–û–ö',
        'badge': '–£–ß–ï–ë–ù–´–ô',
        'description': '–£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –¥–ª—è –æ—Å–≤–æ–µ–Ω–∏—è Flask. –°–æ–∫—Ä–∞—â–∞–µ—Ç –¥–ª–∏–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π.',
        'long_description': '**–£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç** —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –≤ —Ä–∞–º–∫–∞—Ö –∏–∑—É—á–µ–Ω–∏—è —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ **Flask**. –°–µ—Ä–≤–∏—Å –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –¥–ª–∏–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –≤ –∫–æ—Ä–æ—Ç–∫–∏–µ, –∞ —Ç–∞–∫–∂–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É** –∫–æ–ø–∏–π —Ñ–∞–π–ª–æ–≤ –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–î–∏—Å–∫ —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏ –¥–ª—è –∏—Ö —Å–∫–∞—á–∏–≤–∞–Ω–∏—è.',
        'highlights': [
            'üöÄ –†–∞–±–æ—Ç–∞ —Å Flask –∏ ORM',
            '‚ö° REST API —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞',
            'üõ°Ô∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –º–∏–≥—Ä–∞—Ü–∏–∏',
            'üéØ –ü—Ä–æ—Å—Ç–∞—è –∏ –ø–æ–Ω—è—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞'
        ],
        'technologies': ['Python', 'Flask', 'SQLite', 'REST API'],
        'github_url': 'https://github.com/Kentiy2717/yacut',
        'demo_url': '#',
        'status': '–ó–∞–≤–µ—Ä—à–µ–Ω',
        'complexity': 2,
        'automation_level': 70,
        'metrics': {
            '—Ç–∏–ø': '–£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç',
            '—Å—Ç–∞—Ç—É—Å': '–ó–∞–≤–µ—Ä—à–µ–Ω',
            '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏': 'Flask, SQLAlchemy, SQLite',
            '—Ü–µ–ª—å': '–ò–∑—É—á–µ–Ω–∏–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ Flask'
        }
    },
    'plc-system': {
        'id': 'plc-system', 
        'title': 'üè≠ –°–ò–°–¢–ï–ú–ê –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø –ü–õ–ö',
        'badge': 'INDUSTRY',
        'description': '–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ü–õ–ö —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º',
        'long_description': '–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤. –í–∫–ª—é—á–∞–µ—Ç –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Å–∏—Å—Ç–µ–º—É –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω—ã–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º.',
        'highlights': [
            'üöÄ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ Django',
            '‚ö° –†–∞–±–æ—Ç–∞ —Å PyModbus',
            'üìª –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º',
            'üéØ 400+ –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤'
        ],
        'technologies': ['Django', 'Python', 'PyModbus', 'Server-Sent Events', 'CI/CD'],
        'github_url': 'https://github.com/Kentiy2717/',
        'demo_url': '#',
        'status': '–í–Ω–µ–¥—Ä–µ–Ω –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ',
        'complexity': 5,
        'automation_level': 95,
        'metrics': {
            '–∞–≤—Ç–æ—Ç–µ—Å—Ç—ã': '400+',
            '—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å': '95%',
            '–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥': '–†–ï–ê–õ–¨–ù–û–ï –í–†–ï–ú–Ø',
            '—Å–±–æ–∏': '0'
        }
    }
}

SERVICES_DATA = [
    {
        'title': 'üîß –†–ê–ó–†–ê–ë–û–¢–ö–ê –ü–û–î –ö–õ–Æ–ß',
        'description': '–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª: –æ—Ç –∏–¥–µ–∏ –¥–æ —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥–µ. –ë—ç–∫–µ–Ω–¥, —Ñ—Ä–æ–Ω—Ç –Ω–∞ —à–∞–±–ª–æ–Ω–∞—Ö, –¥–µ–ø–ª–æ–π –∏ –±–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞.',
        'price': '–æ—Ç 25K ‚ÇΩ',
        'features': [
            '–ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ',
            'Backend –Ω–∞ Python (FastAPI/Django/Flask)', 
            'Frontend –Ω–∞ Jinja2 —à–∞–±–ª–æ–Ω–∞—Ö',
            '–î–µ–ø–ª–æ–π –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞',
            '–ë–∞–∑–æ–≤–∞—è SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è',
            '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è'
        ],
        'process': [
            {'step': '01', 'title': '–û–±—Å—É–∂–¥–µ–Ω–∏–µ', 'desc': '–ü–æ–≥—Ä—É–∂–∞–µ–º—Å—è –≤ –∑–∞–¥–∞—á—É, –æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Ü–µ–ª–∏, –ø–æ–≥—Ä—É–∂–∞–µ–º—Å—è –≤ –ø—Ä–µ–¥–º–µ—Ç–Ω—É—é –æ–±–ª–∞—Å—Ç—å'},
            {'step': '02', 'title': '–ü—Ä–æ—Ç–æ—Ç–∏–ø', 'desc': '–í—ã–±–∏—Ä–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π —Å—Ç–µ–∫. –°–æ–∑–¥–∞–µ–º —Ä–∞–±–æ—Ç–∞—é—â–∏–π –ø—Ä–æ—Ç–æ—Ç–∏–ø –∑–∞ 2-3 –¥–Ω—è'},
            {'step': '03', 'title': '–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞', 'desc': '–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤. –ü—Ä–æ—Ä–∞–±–æ—Ç–∫–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏'},
            {'step': '04', 'title': '–ó–∞–ø—É—Å–∫', 'desc': '–î–µ–ø–ª–æ–π –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥ –∏ –æ–±—É—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–µ —Å —Å–∏—Å—Ç–µ–º–æ–π. –ü–µ—Ä–µ–¥–∞—á–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏ –ø–æ –ø—Ä–æ–¥–µ–ª–∞–Ω–Ω—ã–º —Ä–∞–±–æ—Ç–∞–º'}
        ],
        'technologies': ['Python', 'FastAPI/Flask/Django', 'Jinja2', 'PostgreSQL', 'Docker'],
        'cta': '–û–±—Å—É–¥–∏—Ç—å –ø—Ä–æ–µ–∫—Ç',
        'icon': 'fas fa-rocket',
        'highlight': True
    },
    {
        'title': 'üîß BACKEND DEVELOPMENT', 
        'description': '–†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—é API –∏ —Å–µ—Ä–≤–µ—Ä–Ω—É—é –ª–æ–≥–∏–∫—É. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö, –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è.',
        'price': '–æ—Ç 15K ‚ÇΩ',
        'features': [
            'REST API —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞',
            '–†–∞–±–æ—Ç–∞ —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö',
            '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö API',
            '–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è',
            '–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è'
        ],
        'technologies': ['Python', 'FastAPI/Flask/Django', 'SQLAlchemy'],
        'cta': '–ù—É–∂–µ–Ω –±—ç–∫–µ–Ω–¥?',
        'icon': 'fas fa-server',
        'highlight': False
    },
    {
        'title': 'ü§ñ –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–Ø',
        'description': '–ü–∏—à—É —Å–∫—Ä–∏–ø—Ç—ã –∏ –±–æ—Ç–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä—É—Ç–∏–Ω—ã. –ü–∞—Ä—Å–∏–Ω–≥, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö, —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç—ã, Excel –æ—Ç—á–µ—Ç—ã.',
        'price': '–æ—Ç 10K ‚ÇΩ',
        'features': [
            '–ü–∞—Ä—Å–∏–Ω–≥ —Å–∞–π—Ç–æ–≤ –∏ –¥–∞–Ω–Ω—ã—Ö',
            '–¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç—ã',
            '–û–±—Ä–∞–±–æ—Ç–∫–∞ Excel/CSV',
            '–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç–∏',
            '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Sheets'
        ],
        'technologies': ['Python', 'aiohttp', 'BeautifulSoup', 'aiogram'],
        'cta': '–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å',
        'icon': 'fas fa-robot',
        'highlight': False
    },
    {
        'title': '‚ö° –î–û–†–ê–ë–û–¢–ö–ê –°–ê–ô–¢–û–í',
        'description': '–ü–æ–º–æ–≥–∞—é —É–ª—É—á—à–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–µ–∫—Ç—ã. –ù–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è.',
        'price': '–æ—Ç 8K ‚ÇΩ',
        'features': [
            '–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞',
            '–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤',
            '–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏',
            '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤',
            '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞'
        ],
        'technologies': ['Python', 'FastAPI', 'Django', 'Flask'],
        'cta': '–£–ª—É—á—à–∏—Ç—å –ø—Ä–æ–µ–∫—Ç',
        'icon': 'fas fa-tools',
        'highlight': False
    },
]

@app.get('/', response_class=HTMLResponse)
async def home(request: Request):
    return templates.TemplateResponse('index.html', {
        'request': request,
        'profile': PROFILE_DATA,
        'projects': PROJECTS_DATA,
        'services': SERVICES_DATA
    })

@app.get('/projects/{project_id}', response_class=HTMLResponse)
async def project_detail(request: Request, project_id: str):
    project = PROJECTS_DATA.get(project_id)
    if not project:
        return templates.TemplateResponse('404.html', {'request': request})
    
    return templates.TemplateResponse('project.html', {
        'request': request,
        'project': project,
        'profile': PROFILE_DATA
    })

@app.get('/services', response_class=HTMLResponse)
async def services(request: Request):
    return templates.TemplateResponse('services.html', {
        'request': request,
        'services': SERVICES_DATA,
        'profile': PROFILE_DATA
    })

if __name__ == '__main__':
    import uvicorn
    uvicorn.run(app, host='0.0.0.0', port=8000)